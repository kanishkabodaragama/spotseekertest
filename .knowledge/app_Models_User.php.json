{"is_source_file": true, "format": "PHP", "description": "This file defines the User model class in a Laravel application, including properties, relationships, and methods related to user management, notifications, and activity logging.", "external_files": ["App\notifications\\CustomResetPassword", "Illuminate\\Contracts\\Auth\\MustVerifyEmail", "Illuminate\\Database\\Eloquent\\Factories\\HasFactory", "Illuminate\\Foundation\\Auth\\Authenticatable", "Illuminate\\Notifications\\Notifiable", "Illuminate\\Support\\Facades\\Auth", "Illuminate\\Support\\Facades\\DB", "Illuminate\\Support\\Facades\\Log", "Laravel\\Sanctum\\HasApiTokens", "Spatie\\Permission\traits\\HasRoles", "Spatie\\Activitylog\traits\\LogsActivity", "Spatie\\Activitylog\\LogOptions", "Fouladgar\\MobileVerification\\Contracts\\MustVerifyMobile", "Fouladgar\\MobileVerification\\Concerns\\MustVerifyMobile"], "external_methods": ["notify", "hasMany", "belongsToMany", "hasRole", "hasRole", "hasMany", "delete", "pluck", "hasMany"], "published": ["sendPasswordResetNotification", "provider", "orders", "hasTicketCountAboveForPackage", "events", "invitations", "coordinated_events", "serialize", "getActivitylogOptions"], "classes": [{"name": "User", "description": "A model class representing application users, with properties for user attributes, relationships to other models, and methods for user-specific logic such as notifications, activity logging, and ticket management."}], "methods": [{"name": "boot", "description": "Overrides the default boot method to add a deleting event that cleans up related orders, invitations, and coordinated events when a user is deleted."}, {"name": "sendPasswordResetNotification", "description": "Sends a custom password reset notification to the user."}, {"name": "provider", "description": "Defines a one-to-many relationship with the Provider model."}, {"name": "orders", "description": "Defines a one-to-many relationship with the TicketSale model."}, {"name": "hasTicketCountAboveForPackage", "description": "Checks if the total number of tickets for a specific package exceeds a given threshold, considering tickets already selected."}, {"name": "events", "description": "Defines a one-to-many relationship with the Event model where the user is a manager."}, {"name": "invitations", "description": "Defines a one-to-many relationship with the EventInvitation model."}, {"name": "coordinated_events", "description": "Defines a many-to-many relationship with the Event model for events the user coordinates."}, {"name": "serialize", "description": "Custom serialization method that returns user data, with additional role-based logic for admin users."}, {"name": "getActivitylogOptions", "description": "Configures activity logging options for the user model."}], "calls": ["notify", "hasMany", "belongsToMany", "hasRole", "delete", "pluck", "Log::info", "LogOptions::defaults"], "search-terms": ["User model", "ticket count check", "coordinated events", "activity log", "MobileVerification", "CustomResetPassword", "Laravel Sanctum", "Spatie permissions", "Event invitations"], "state": 2, "filename": "app/Models/User.php", "format-version": 4, "code-base-name": "https://github.com/kanishkabodaragama/spotseekertest.git:main", "knowledge_revision": 237, "git_revision": "113c79228ad261d8e3a3fd4395fe790f78c2319c", "revision_history": [{"237": "113c79228ad261d8e3a3fd4395fe790f78c2319c"}]}